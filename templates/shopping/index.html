{% extends "layout.html" %}

{% block content %}
<div class="shopping-list-container">
    <h1>買い物リスト</h1>
    
    <div class="add-item-section">
        <form method="post" class="add-form">
            <input type="hidden" name="action" value="add">
            <div class="form-group">
                <input type="text" name="item" placeholder="アイテムを入力" required>
                <select name="category" class="category-select">
                    <option value="食品">食品</option>
                    <option value="日用品">日用品</option>
                </select>
                <button type="submit" class="btn btn-add">
                    <i class="fas fa-plus"></i> 追加
                </button>
            </div>
        </form>
    </div>

    <div class="lists-container">
        <div class="list-section">
            <div class="list-header">
                <h2>食品</h2>
                <form method="post" class="clear-form">
                    <input type="hidden" name="action" value="clear">
                    <input type="hidden" name="category" value="食品">
                    <button type="submit" class="btn btn-clear">
                        <i class="fas fa-trash-alt"></i> 全削除
                    </button>
                </form>
            </div>
            
            <ul class="items-list">
                {% for i, item in enumerate(items['食品']) %}
                <li class="list-item">
                    <span class="item-text">{{ item }}</span>
                    <form method="post" class="delete-form">
                        <input type="hidden" name="action" value="delete">
                        <input type="hidden" name="category" value="食品">
                        <input type="hidden" name="index" value="{{ i }}">
                        <button type="submit" class="btn btn-delete">
                            <i class="fas fa-times"></i>
                        </button>
                    </form>
                </li>
                {% else %}
                <li class="empty-list">リストは空です</li>
                {% endfor %}
            </ul>
        </div>

        <div class="list-section">
            <div class="list-header">
                <h2>日用品</h2>
                <form method="post" class="clear-form">
                    <input type="hidden" name="action" value="clear">
                    <input type="hidden" name="category" value="日用品">
                    <button type="submit" class="btn btn-clear">
                        <i class="fas fa-trash-alt"></i> 全削除
                    </button>
                </form>
            </div>
            
            <ul class="items-list">
                {% for i, item in enumerate(items['日用品']) %}
                <li class="list-item">
                    <span class="item-text">{{ item }}</span>
                    <form method="post" class="delete-form">
                        <input type="hidden" name="action" value="delete">
                        <input type="hidden" name="category" value="日用品">
                        <input type="hidden" name="index" value="{{ i }}">
                        <button type="submit" class="btn btn-delete">
                            <i class="fas fa-times"></i>
                        </button>
                    </form>
                </li>
                {% else %}
                <li class="empty-list">リストは空です</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}
